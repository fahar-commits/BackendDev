import { spread, mergeProps, template } from 'solid-js/web';
import { createSignal } from 'solid-js';
import { toDataURL } from 'qrcode';

// src/index.tsx

// src/defaultOptions.ts
var defaultOptions = {
  width: 512,
  margin: 2
};

// src/index.tsx
var _tmpl$ = /* @__PURE__ */ template(`<img>`, 1);
var SolidQR = (props) => {
  const {
    text,
    options = defaultOptions,
    ...rest
  } = props;
  const [qr, setQr] = createSignal(void 0);
  const generateQr = (text2) => {
    toDataURL(void 0, text2, options, (error, url) => {
      if (error) {
        console.error(error);
        throw error;
      } else {
        setQr(url);
      }
    });
  };
  generateQr(text);
  return (() => {
    const _el$ = _tmpl$.cloneNode(true);
    spread(_el$, mergeProps({
      get src() {
        return qr();
      }
    }, rest), false, false);
    return _el$;
  })();
};
var src_default = SolidQR;

export { SolidQR, src_default as default };
