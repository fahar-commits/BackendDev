'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var web = require('solid-js/web');
var solidJs = require('solid-js');
var qrcode = require('qrcode');

// src/index.tsx

// src/defaultOptions.ts
var defaultOptions = {
  width: 512,
  margin: 2
};

// src/index.tsx
var _tmpl$ = /* @__PURE__ */ web.template(`<img>`, 1);
exports.SolidQR = (props) => {
  const {
    text,
    options = defaultOptions,
    ...rest
  } = props;
  const [qr, setQr] = solidJs.createSignal(void 0);
  const generateQr = (text2) => {
    qrcode.toDataURL(void 0, text2, options, (error, url) => {
      if (error) {
        console.error(error);
        throw error;
      } else {
        setQr(url);
      }
    });
  };
  generateQr(text);
  return (() => {
    const _el$ = _tmpl$.cloneNode(true);
    web.spread(_el$, web.mergeProps({
      get src() {
        return qr();
      }
    }, rest), false, false);
    return _el$;
  })();
};
exports.default = exports.SolidQR;
